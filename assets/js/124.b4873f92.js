(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{391:function(n,s,a){"use strict";a.r(s);var o=a(0),t=Object(o.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[n._v("问题\n今天用 brew 来安装 mongodb 报错了。首先\nbrew install mongodb\n提示 Error: No available formula with the name “mongodb”\n具体是这样：")]),n._v(" "),a("p",[n._v("看了一下大致原因是在 homebrew 里找不到 mongodb 这个名字，mongodb 在 brew 核心库里面删除了，也可以\nbrew search mongodb...")])]),n._v(" "),a("h2",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[n._v("#")]),n._v(" 问题")]),n._v(" "),a("p",[n._v("今天用 brew 来安装 mongodb 报错了。首先\n"),a("code",[n._v("brew install mongodb")]),n._v('\n提示 Error: No available formula with the name "mongodb"\n具体是这样：\n'),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190909185523787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk3MjQzNw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),n._v("\n看了一下大致原因是在 homebrew 里找不到 mongodb 这个名字，mongodb 在 brew 核心库里面删除了，也可以\n"),a("code",[n._v("brew search mongodb")]),n._v(" 一下，果然没有。")]),n._v(" "),a("h2",{attrs:{id:"解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[n._v("#")]),n._v(" 解决方案")]),n._v(" "),a("p",[n._v("为此我去 brew 的 github 留言了，得到的反馈是\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190909190628571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk3MjQzNw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),n._v("\n翻译一下：MongoDB不再是开源的了，并且已经从自制内核#43770中移除。要安装它，请检查MongoDB项目提供的选项:https://github.com/mongodb/homebrew-brew\n于是我们访问一下：\n根据这个github主页的提示，我们安装一下\n"),a("code",[n._v("brew tap mongodb/brew")]),n._v(" "),a("code",[n._v("brew install mongodb-community@4.2")]),n._v("\n安装成功啦~")]),n._v(" "),a("h4",{attrs:{id:"文件路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件路径"}},[n._v("#")]),n._v(" 文件路径")]),n._v(" "),a("p",[n._v("配置文件："),a("code",[n._v("/usr/local/etc/mongod.conf")]),n._v("\n日志目录路径："),a("code",[n._v("/usr/local/var/log/mongodb")]),n._v("\n数据目录路径："),a("code",[n._v("/usr/local/var/mongodb")])]),n._v(" "),a("h4",{attrs:{id:"启动-停止"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动-停止"}},[n._v("#")]),n._v(" 启动&停止")]),n._v(" "),a("p",[a("code",[n._v("brew services start mongodb-community")]),n._v(" "),a("code",[n._v("brew services stop mongodb-community")])]),n._v(" "),a("h4",{attrs:{id:"手动启动-mongod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手动启动-mongod"}},[n._v("#")]),n._v(" 手动启动 mongod")]),n._v(" "),a("p",[n._v("如果不需要或不需要后台MongoDB服务，可以运行：\n"),a("code",[n._v("mongod --config /usr/local/etc/mongod.conf")]),n._v("\n注意：如果不包括--config选项具有配置文件的路径，则MongoDB服务器没有默认配置文件或日志目录路径，并且将使用 /data/db.")]),n._v(" "),a("p",[n._v("关机mongod手动启动，请使用admin数据库和运行db.shutdownServer():\n"),a("code",[n._v('mongo admin --eval "db.shutdownServer()"')])]),n._v(" "),a("h2",{attrs:{id:"运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[n._v("#")]),n._v(" 运行")]),n._v(" "),a("p",[n._v("1、首先我们创建一个数据库存储目录 /data/db：\n"),a("code",[n._v("sudo mkdir -p /data/db")])]),n._v(" "),a("blockquote",[a("p",[n._v("如果你的数据库目录不是/data/db，可以通过 --dbpath 来指定。\n"),a("code",[n._v("sudo mongod --dbpath=/data/db")])])]),n._v(" "),a("p",[n._v("2、启动 mongodb，默认数据库目录即为 /data/db：\n"),a("code",[n._v("sudo mongod")]),n._v("（相当于上文中"),a("code",[n._v("brew services start mongodb-community")]),n._v("）\n我们可以把 MongoDB 的二进制命令文件目录（安装目录/bin）添加到 PATH 路径中：(相当于Windows的环境变量，brew安装的话可省略)\n"),a("code",[n._v("export PATH=/usr/local/mongodb/bin:$PATH")]),n._v("\n3、再打开一个终端进入执行以下命令：")]),n._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[n._v("$ mongo\nMongoDB shell version v4.0.9\nconnecting to: mongodb://127.0.0.1:27017/?gssapiServiceName"),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("mongodb\nImplicit session: session "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[n._v('"id"')]),n._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(":")]),n._v(" UUID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[n._v('"3c12bf4f-695c-48b2-b160-8420110ccdcf"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\nMongoDB server version: "),a("span",{pre:!0,attrs:{class:"token number"}},[n._v("4.0")]),n._v(".9\n……\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" + "),a("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[n._v("2")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v(" \n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);