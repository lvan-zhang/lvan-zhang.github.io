---
title: centOS上安装gitlab
date: 2019-11-11
tags:
  - 运维
categories:
  - 运维
---

:::tip
准备工作
我们一边看gitlab官网一边介绍：https://about.gitlab.com/install/
首先在gitlab官网找到我的操作系统，点进去我们跟着步骤一起来安装：

1.安装和配置必要的依赖项
在CentOS 7（和RedHat / Oracle / Scientific Linux 7）上，以下命令还将在系统防火墙中打开HTTP，HTTPS和SSH访问。
sudo yum ...
:::

<!-- more -->

## 准备工作
我们一边看gitlab官网一边介绍：[https://about.gitlab.com/install/](https://about.gitlab.com/install/)
首先在gitlab官网找到我的操作系统，点进去我们跟着步骤一起来安装：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191111183413130.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk3MjQzNw==,size_16,color_FFFFFF,t_70)
## 1.安装和配置必要的依赖项
在CentOS 7（和RedHat / Oracle / Scientific Linux 7）上，以下命令还将在系统防火墙中打开HTTP，HTTPS和SSH访问。
```shell
sudo yum install -y curl policycoreutils-python openssh-server
sudo systemctl enable sshd
sudo systemctl start sshd
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo systemctl reload firewalld
```
接下来，安装Postfix以发送通知电子邮件。如果要使用其他解决方案发送电子邮件，请跳过此步骤， 并在安装GitLab之后配置外部SMTP服务器。
```shell
sudo yum install postfix
sudo systemctl enable postfix
sudo systemctl start postfix
```
在安装Postfix的过程中，可能会出现一个配置屏幕。选择“ Internet网站”，然后按Enter。使用服务器的外部DNS作为“邮件名”，然后按Enter。如果出现其他屏幕，请继续按Enter接受默认设置。
## 2.添加GitLab软件包存储库并安装软件包
添加GitLab软件包存储库。
```shell
curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash
```
接下来，安装GitLab软件包。更改https://gitlab.example.com为您要访问GitLab实例的URL。安装将自动配置并在该URL上启动GitLab。

对于https://URL，GitLab将使用Let's Encrypt自动请求证书，这需要入站HTTP访问和有效的主机名。您也可以使用自己的证书或仅使用http：//。
```shell
sudo EXTERNAL_URL="https://gitlab.example.com" yum install -y gitlab-ee
```
## 3.浏览到主机名并登录
首次访问时，您将被重定向到密码重置屏幕。提供初始管理员帐户的密码，您将被重定向回登录屏幕。使用默认帐户的用户名root登录。

有关安装和配置的详细说明，请参见我们的文档。
## 4.设置您的通信首选项
请访问我们的 电子邮件订阅首选项中心， 以告知我们何时与您交流。我们有明确的电子邮件接收政策，因此您可以完全控制我们向您发送电子邮件的时间和频率。

我们每月两次发送您需要了解的GitLab新闻，包括新功能，集成，文档以及我们开发团队的幕后故事。有关与错误和系统性能有关的重要安全更新，请注册我们的专用安全新闻。
