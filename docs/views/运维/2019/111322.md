---
title: linux：磁盘挂载与卸除
date: 2019-11-13
tags:
  - 运维
categories:
  - 运维
---

:::tip
文章目录常用命令dffdisk磁盘格式化磁盘挂载与卸除参考资料
常用命令

df：列出文件系统的整体磁盘使用量
fdisk：用于磁盘分区

df
df [-ahikHTm] [目录或文件名]

-a ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；
-k ：以 KBytes 的容量显示各文件系统；
-m ：以 MBytes 的容量显示各文件系统；
-h ：以人们较易阅读的 GByte...
:::

<!-- more -->

@[TOC]
## 常用命令
- df：列出文件系统的整体磁盘使用量
- fdisk：用于磁盘分区
## df
`df [-ahikHTm] [目录或文件名]`
- -a ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；
- -k ：以 KBytes 的容量显示各文件系统；
- -m ：以 MBytes 的容量显示各文件系统；
- -h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；
- -H ：以 M=1000K 取代 M=1024K 的进位方式；
- -T ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；
- -i ：不用硬盘容量，而以 inode 的数量来显示
## fdisk
`fdisk [-l] 装置名称`
- -l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。

先df查看磁盘名称，
然后 fdisk /dev/vda
然后输入命令，q是离开不保存，w是生效的意思，p查看分区，n创建一个新分区
## 磁盘格式化
磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，使用 mkfs（make filesystem） 命令。
`mkfs [-t 文件系统格式] 装置文件名`
- -t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)

查看 mkfs 支持的文件格式：
`mkfs[tab][tab]`

将分区 /dev/hdc6（可指定你自己的分区） 格式化为 ext3 文件系统：
`mkfs -t ext3 /dev/hdc6`
这样就创建起来我们所需要的 Ext3 文件系统了！简单明了！
## 磁盘挂载与卸除
Linux 的磁盘挂载使用 mount 命令，卸载使用 umount 命令。
挂载：
`mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n]  装置文件`

例子：
将刚创建的 /dev/hdc6 挂载到 /mnt/hdc6 上面！
```shell
[root@www ~]# mkdir /mnt/hdc6
[root@www ~]# mount /dev/hdc6 /mnt/hdc6
[root@www ~]# df
Filesystem           1K-blocks      Used Available Use% Mounted on
.....中间省略.....
/dev/hdc6              1976312     42072   1833836   3% /mnt/hdc6
```

卸除：
`umount [-fn] 装置文件名或挂载点`
- -f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；
- -n ：不升级 /etc/mtab 情况下卸除。

例子：
`umount /dev/hdc6`
## 参考资料
[https://www.runoob.com/linux/linux-filesystem.html](https://www.runoob.com/linux/linux-filesystem.html)

[https://help.aliyun.com/document_detail/25426.html](https://help.aliyun.com/document_detail/25426.html)
