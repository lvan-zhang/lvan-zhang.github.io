---
title: 小程序：web-view点击后退出现空白页，需要再次点击
date: 2019-11-01
tags:
  - 小程序
categories:
  - 小程序
---

:::tip
问题
首页点击链接跳转至web-view内嵌的H5页面，在H5页面点击小程序的后退按钮，不能直接返回首页，显示H5空白页面，再次点击才能回到首页。
解决
官方文档 2019.10.21 解决了这个bug，还没下载最新开发者工具的小伙伴们快去下载吧，，坑！！！！！！！https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.ht...
:::

<!-- more -->

## 问题
首页点击链接跳转至web-view内嵌的H5页面，在H5页面点击小程序的后退按钮，不能直接返回首页，显示H5空白页面，再次点击才能回到首页。
## 代码场景

目录结构：
├── pages
│ ├── web-view
│ │ ├── web-view.js
│ │ ├── web-view.wxml
```html
<!-- pages/web-view/web-view.wxml -->
<web-view src="{{ url }}"
          bindload="loadFinish"
          bindmessage="messageFinish" />
```
```js
// pages/web-view/web-view.js
onLoad: function (options) {
  if (options.url) {
    this.setData({
      url: decodeURIComponent(options.url)
    })
  }
},
```
```js
// 别的页面跳转到webview页面
wx.navigateTo({
      url: '/pages/web-view/web-view?url=' + encodeURIComponent(url)
    })
})
```
## 解决
官方文档 2019.10.21 解决了这个bug，还没下载最新开发者工具的小伙伴们快去下载吧，，坑！！！！！！！[https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html](https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html)
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191101150258941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk3MjQzNw==,size_16,color_FFFFFF,t_70)
