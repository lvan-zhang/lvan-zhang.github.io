---
title: 小程序：navigateBack携带参数返回
date: 2019-11-01
tags:
  - 小程序
categories:
  - 小程序
---

:::tip
需求
今天做一个关于商城的小程序遇到一个问题，如图1点击地址后，进入图二选择地址页面，随便选择一个后，再回到图一并且用选择的地址替换掉图1的红色。
那么我想到的做法是：图二选择完后直接用 wx.navigateBack() 返回，可是怎么样同时传值到图1呢，接下来看代码。

代码
// 图一核心代码，接受数据
onShow: function () {
  console.log(this.dat...
:::

<!-- more -->

## 需求
今天做一个关于商城的小程序遇到一个问题，如图1点击地址后，进入图二选择地址页面，随便选择一个后，再回到图一并且用选择的地址替换掉图1的红色。
那么我想到的做法是：图二选择完后直接用 `wx.navigateBack()` 返回，可是怎么样同时传值到图1呢，接下来看代码。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20191101104408279.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk3MjQzNw==,size_16,color_FFFFFF,t_70)![在这里插入图片描述](https://img-blog.csdnimg.cn/20191101104331495.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk3MjQzNw==,size_16,color_FFFFFF,t_70)
## 代码
```js
// 图一核心代码，接受数据
onShow: function () {
  console.log(this.data.address) // yes
},
```
```js
// 图二核心代码，发送数据
//当前页面
let pages = getCurrentPages()
//上一页面
let prevPage = pages[pages.length - 2]
//直接给上移页面赋值
prevPage.setData({
  address: 'yes'
})
wx.navigateBack({
  delta: 1
})
```
