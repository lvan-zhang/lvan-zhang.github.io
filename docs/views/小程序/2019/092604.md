---
title: 小程序：小白常见的小程序问题
date: 2019-09-26
tags:
  - 小程序
categories:
  - 小程序
---

:::tip
如何登录公众号和小程序的后台
都是通过 微信公众平台，但是注册公众号和小程序时使用的邮箱是不一样的，所以登录用哪个邮箱，登录进去就是哪个的后台。
一个账号可以有几个小程序
在小程序账号注册填邮箱的时候，就已经说明了，每个邮箱仅能申请一个小程序。如果需要多个小程序，则需要多个邮箱账户。并且一个身份证下只能注册 5 个小程序。
游客身份进入后如何再添加appid
一般开发小程序我们会以游客身份进入，后...
:::

<!-- more -->

@[TOC]
## 如何登录公众号和小程序的后台
都是通过 [微信公众平台](https://mp.weixin.qq.com/)，但是注册公众号和小程序时使用的邮箱是不一样的，所以登录用哪个邮箱，登录进去就是哪个的后台。
## 一个账号可以有几个小程序
在小程序账号注册填邮箱的时候，就已经说明了，每个邮箱仅能申请一个小程序。如果需要多个小程序，则需要多个邮箱账户。并且一个身份证下只能注册 5 个小程序。
## 游客身份进入后如何再添加appid
一般开发小程序我们会以游客身份进入，后来想要添加 appid 的话，只需要在 project.config.json 文件里面，把 `"appid": "touristappid",` 改为自己的即可。
## appid在哪里找
登录微信公众平台，用小程序账号登录，进入后点击设置，拉到最后就可以看到。
## 坑
新版开发者工具：
- 新建小程序必须在一个空的文件夹里，否则会一直提示请选择空目录
- 微信开发者工具里面没有上传按钮，解决办法：必须新建（新建的坑参考第一条）一个项目才有上传按钮，导入的项目不行
- 小程序打开空白（代码没错），点击开发者工具最上面的小程序模式切换到插件模式再切换回来就好了，恶心人啊。。
## UI库的选择
##### WeUI WXSS
- 微信官方出品，微信原生视觉体验
- [https://github.com/Tencent/weui-wxss](https://github.com/Tencent/weui-wxss)
##### ZanUI WeApp
- 有赞官方出品
- [https://github.com/youzan/vant-weapp](https://github.com/youzan/vant-weapp)
>有赞有基于mpvue的小程序UI库[https://github.com/armyja/mpvue-zanui](https://github.com/armyja/mpvue-zanui)
>mpvue是美团出品，基于Vue框架（重写了其runtime和compiler），我们可以用vue来写小程序，但是听说坑多，还有腾讯出品的[wepy](https://wepyjs.github.io/)
##### 其他
其他还有 iView WeApp（TalkingData）、MinUI（蘑菇街）、Wux WeApp、ColorUI 等等，在这里不做详述。
## 微信公众平台和微信开放平台
- 微信公众平台：关于订阅号、服务号、小程序、企业微信
- 微信开放平台：在自己的网站或 app 上开发微信帐户登录、微信分享等功能！

简单来讲，公众平台的开发功能是在微信平台的基础上的，而开放平台是在你自己的平台上开发的与微信相关的一些功能。
## 小程序云开发和普通开发区别
云开发：无需搭建服务器。主要面向个人开发者，下面三点有免费的限制，之后数据量大了是要收费的，不过这个配置做实验和用户量不是非常大的小程序还是够用的。
小程序·云开发提供了三个基础能力：数据库、存储和云函数。

- 数据库：json数据库，就理解为往里面存的是json，取出来的也是json。
- 存储：就是把你的图片、音频和视频之类的资源文件，存储到里面，帮你生成链接，直接拿链接就可以用，就好像一个网盘一样。
- 云函数：这个云函数，就是服务端的接口，你调用这个函数，也就是调用接口。云函数可以在客户端写，也可以在云开发控制台写，写完之后同步一下，两端就都有了。在云函数里，你可以进行计算，也可以操作数据库，把想要的结果以同步或者异步的方式返回给客户端。
## 使用npm
`npm init`
详情 -> 本地设置 -> 使用npm模块
工具 -> 构建 npm
## 没有找到可构建的npm包
需要先 `npm init`
## 使用weui
1. 项目根目录新建 lib 文件夹，从 github 下载 weui 的 wxss 放入并命名为 weui.wxss
2. 在 app.wxss 中导入 `@import "lib/weui.wxss"`
## 修改某个页面的背景颜色
在要修改的那个页面的 wxss 文件中添加如下代码，这样不会影响别的页面。
```css
page {
  background: #eff0f2;
}
```
## 媒介查询判断是 iphoneX,XR,XSmax
```css
@media
/* iphoneX */
screen and (device-width: 375px) and (min-device-height:724px) and (-webkit-device-pixel-ratio:3),
/* iphoneXS Max */
screen and (device-width: 414px) and (min-device-height:724px) and (-webkit-device-pixel-ratio:3),
/* iphoneXR */
screen and (device-width: 414px) and (min-device-height:724px) and (-webkit-device-pixel-ratio:2) {
  .add-new-address {
    height: 280rpx;
  }
}
```
## web-view显示空白问题
重启一下开发者工具试试
## 微信官方的轻提示可以自定义图标
## 有赞步进器不能输入不能触发change事件换一个调试库
## 刷新当前页面
```js
const pages = getCurrentPages()
const perpage = pages[pages.length - 1]
perpage.onLoad()
```
## 版本发布
首发：
后端先发代码到正式，我的 baseurl 改为 cn 发到体验版，大家体验没问题了我再发小程序去审核
迭代：
后端发 net ，我改为 net 发体验版，测试好了，然后我改为 cn 去审核，审核成功后，后端需要立马发 cn。
